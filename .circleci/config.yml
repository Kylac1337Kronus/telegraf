# Python CircleCI 2.0 configuration file
version: 2
jobs:
  build:
    working_directory: ~/telegraf
    machine:
      enabled: true
    environment:
      AWS_DEFAULT_REGION: us-west-2
    steps:
      - checkout
      - run:
          name: Install Dependencies
          command: |
            bundle install
      - run:
          name: Tests Ubuntu Defaults
          command: |
            kitchen test default-ubuntu

      - run:
          name: Tests Centos Defaults
          command: |
            kitchen test default-centos-72

      - run:
          name: Tests Ubuntu RPM
          command: |
            kitchen test rpm-install-ubuntu

      - run:
          name: Tests Centos RPM
          command: |
            kitchen test rpm-install-centos-72